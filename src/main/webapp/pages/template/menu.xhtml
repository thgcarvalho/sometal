<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
	<h:form id="formMenu">

		<p:menubar>
			<p:menuitem value="#{msg.home}" url="/pages/home.jsf" icon="ui-icon-contact" />
			<p:menuitem id="funcionarios" value="#{msg.funcionarios}" action="funcionarios" ajax="false" immediate="true" icon="ui-icon-person" />
			<p:menuitem id="pontos" value="#{msg.pontos}" action="pontos" ajax="false" immediate="true" icon="ui-icon-check" rendered="#{usuarioBean.usuario.auth.isEncrr}" />
			<p:menuitem id="cc" value="#{msg.pagamentos}" action="home" ajax="false" immediate="true" icon="ui-icon-help" disabled="true" rendered="#{usuarioBean.usuario.auth.isEscrt}" />
			<p:menuitem id="clientes" value="#{msg.clientes}" action="clientes" ajax="false" immediate="true" icon="ui-icon-person" rendered="#{usuarioBean.usuario.auth.isEscrt}" />
			<p:menuitem id="fornecedores" value="#{msg.fornecedores}" action="fornecedores"  ajax="false" immediate="true" icon="ui-icon-wrench" rendered="#{usuarioBean.usuario.auth.isEscrt}" />
			<p:menuitem id="contas" value="#{msg.contas}" action="contas" ajax="false" immediate="true" icon="ui-icon-document" rendered="#{usuarioBean.usuario.auth.isEscrt}" />
			<p:menuitem id="veiculos" value="#{msg.veiculos}" action="veiculos" ajax="false" immediate="true" icon="ui-icon-key" rendered="#{usuarioBean.usuario.auth.isEscrt}" />
			
			<p:menuitem id="miusuarios" value="#{msg.usuarios}" action="usuarios" actionListener="#{usuarioBean.carregaUsuarios}" ajax="false" immediate="true" icon="ui-icon-person" rendered="#{usuarioBean.usuario.auth.isAdmin}" />
			
			<p:submenu id="smajuda" label="#{msg.ajuda}" icon="ui-icon-help">
				<p:menuitem id="misuporte" value="#{msg.suporte}" onclick="PF('suporteDialog').show()" immediate="true" />
				<p:menuitem id="misobre" value="#{msg.sobre}" onclick="PF('sobreDialog').show()" immediate="true" />
			</p:submenu>
			
			<p:menuitem id="misair" value="#{msg.sair}" onclick="PF('confirmExit').show()" icon="ui-icon-power" immediate="true" />
			
		</p:menubar>
		
		<!-- SUPORTE Dialog -->
		<p:dialog header="Suporte" widgetVar="suporteDialog" resizable="false" id="suporteDlg" modal="true" showEffect="fade" hideEffect="explode" >  
		    <h:panelGrid id="displaySuporte" columns="2" cellpadding="4" style="margin:0 auto;">  
		        <h:outputText value="Email:" />  
		        <h:outputText value="suporte@grandev.com.br" style="font-weight:bold"/>  
		        <h:outputText value="Skype:" />  
		        <h:outputText value="gran.dev" style="font-weight:bold"/>
		        <h:outputText value="Telefone:" />  
		        <h:outputText value="(85) 8787.8740" style="font-weight:bold"/>
		    </h:panelGrid>
		</p:dialog>
	
		<!-- SOBRE Dialog -->
		<p:dialog header="Sobre" widgetVar="sobreDialog" resizable="false" id="sobreDlg" modal="true" showEffect="fade" hideEffect="explode" >  
		    <h:panelGrid id="displaySobre" columns="1" width="100%" style="text-align:center"> 
		    	<h:graphicImage library="images" name="sm.png" />
		    	<br />
		        <h:outputText value="Versão 1.0" />  
				<br />
				<h:outputText value="Produzido por: " />
				<h:graphicImage library="images" name="gd_icon.png" />
	    	</h:panelGrid>
		</p:dialog>
		
		<!-- EXIT Dialog -->
		<p:confirmDialog id="confirmationExit" message="#{facesContext.externalContext.userPrincipal.name}, você deseja sair do sistema?" header="Sair do Sistema?" 
			severity="alert" widgetVar="confirmExit" modal="true" showEffect="fade" hideEffect="explode" >  
	 		<p:commandButton id="confirmExit" value="Sim" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" oncomplete="cconfirmExit.hide()" actionListener="#{usuarioBean.logout}" immediate="true" /> 
	 		<p:commandButton id="declineExit" value="Não" styleClass="ui-confirmdialog-no" icon="ui-icon-close" onclick="PF('confirmExit').hide()" />   
		</p:confirmDialog>

	</h:form>
</ui:composition>
